# è®¾è®¡æ¨¡å¼

## é¢å‘å¯¹è±¡

**é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€** ï¼ˆæ¯”å¦‚ C++ å’Œ Javaï¼‰ï¼Œéƒ½æœ‰â€œç±»â€ï¼ˆclassï¼‰è¿™ä¸ªæ¦‚å¿µã€‚æ‰€è°“â€œç±»â€å°±æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯¹è±¡å°±æ˜¯â€œç±»â€çš„å®ä¾‹ã€‚ä½†æ˜¯ï¼ŒJavaScript è¯­è¨€çš„å¯¹è±¡ä½“ç³»ï¼Œä¸æ˜¯åŸºäºâ€œç±»â€çš„ï¼Œè€Œæ˜¯åŸºäºæ„é€ å‡½æ•°ï¼ˆconstructorï¼‰å’ŒåŸå‹é“¾ï¼ˆprototypeï¼‰ã€‚

æ„é€ å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä½†æ˜¯æœ‰è‡ªå·±çš„ç‰¹å¾å’Œç”¨æ³•

#### ç»§æ‰¿

å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œç»§æ‰¿å¯ä»¥æŠŠå…¬å…±æ–¹æ³•æŠ½ç¦»å‡ºæ¥ï¼Œæé«˜å¤ç”¨ï¼Œå‡å°‘å†—ä½™

#### å°è£…

-   æŠŠæ•°æ®å°è£…èµ·æ¥
-   å‡å°‘è€¦åˆï¼Œä¸è¯¥å¤–éƒ¨è®¿é—®çš„ä¸è¦è®©å¤–éƒ¨è®¿é—®
-   åˆ©äºæ•°æ®çš„æ¥å£æƒé™ç®¡ç†
-   ES6 ç›®å‰ä¸æ”¯æŒï¼Œä¸€èˆ¬è®¤ä¸º\_å¼€å¤´çš„éƒ½ä¼šç§æœ‰çš„ï¼Œä¸è¦ä½¿ç”¨

#### å¤šæ€

-   åŒä¸€ä¸ªæ¥å£å¯ä»¥ä¸åŒå®ç°
-   ä¿æŒå­ç±»çš„å¼€æ”¾æ€§å’Œçµæ´»æ€§
-   é¢å‘æ¥å£ç¼–ç¨‹

## è®¾è®¡æ¨¡å¼

### ä»€ä¹ˆæ˜¯è®¾è®¡ï¼Ÿ

æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“

#### ç›®çš„

ä¸ºäº†ä»£ç å¯é‡ç”¨æ€§ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚ è®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–å†™çœŸæ­£å·¥ç¨‹åŒ–ï¼›è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³è„‰ç»œï¼Œå¦‚åŒå¤§å¦çš„ç»“æ„ä¸€æ ·

### è®¾è®¡æ¨¡å¼äº”å¤§åŸåˆ™

-   å•ä¸€èŒè´£åŸåˆ™
-   å¼€æ”¾å°é—­åŸåˆ™
-   é‡Œæ°æ›¿æ¢åŸåˆ™
-   æ¥å£éš”ç¦»åŸåˆ™
-   ä¾èµ–åè½¬åŸåˆ™

#### S å•ä¸€èŒè´£åŸåˆ™

-   Single responsibility principle
-   ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹
-   å¦‚æœåŠŸèƒ½ç‰¹åˆ«å¤æ‚å°±è¿›è¡Œæ‹†åˆ†

#### O å¼€æ”¾å°é—­åŸåˆ™

-   Open Closed Principle
-   å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
-   å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç 
-   è¿™æ˜¯è½¯ä»¶è®¾è®¡çš„ç»ˆæç›®æ ‡

#### L é‡Œæ°æ›¿æ¢åŸåˆ™

-   Liskov Substitution Principle
-   å­ç±»èƒ½è¦†ç›–çˆ¶ç±»
-   çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç°
-   JS ä½¿ç”¨æ¯”è¾ƒå°‘

#### I æ¥å£éš”ç¦»åŸåˆ™

-   Interface Segregation Principle
-   ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°èƒ–æ¥å£
-   JS ä¸­æ²¡æœ‰æ¥å£ï¼Œä½¿ç”¨è¾ƒå°‘
-   ç±»ä¼¼äºå•ä¸€èŒè´£åŸåˆ™ï¼Œæ›´å…³æ³¨æ¥å£

#### D ä¾èµ–å€’ç½®åŸåˆ™

-   Dependence Inversion Principle
-   é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“å®ç°
-   ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°
-   JS ä¸­ä½¿ç”¨è¾ƒå°‘ï¼ˆæ²¡æœ‰æ¥å£ï¼Œå¼±ç±»å‹ï¼‰

## å¸¸è§çš„è®¾è®¡æ¨¡å¼

### å·¥å‚æ¨¡å¼

-   æ ¸å¿ƒçš„å·¥å‚ç±»ä¸å†è´Ÿè´£æ‰€æœ‰çš„äº§å“çš„åˆ›å»ºï¼Œè€Œæ˜¯å°†å…·ä½“åˆ›å»ºçš„å·¥ä½œäº¤ç»™å­ç±»å»åš

```code
class Plant {
    constructor(name) {
        this.name = name;
    }
    grow() {}
}
class Apple extends Plant {
    constructor(name, taste) {
        super(name);
        this.taste = taste;
    }
    grow() {}
}
class Orange extends Plant {
    constructor(name, taste) {
        super(name);
        this.taste = taste;
    }
    grow() {}
}

class Factory {
    create(type) {
        switch (type) {
            case 'apple':
                return new Apple('ğŸ', 'ç”œç”œçš„');
            case 'orange':
                return new Orange('ğŸŠ', 'é…¸é…¸çš„');
            default:
                throw new Error('é”™è¯¯âŒ');
        }
    }
}
let factory = new Factory();
let apple = factory.create('apple');
let orange = factory.create('orange');
console.log(apple.taste);
console.log(orange.taste);
react:
class Vnode {
    constructor(tag, attrs, children) {
        this.tag = tag;
        this.attrs = attrs;
        this.children = children;
    }
}
React.createElement  = function(tag, attrs, children) {
    return new Vnode(tag, attr, children);
};
```

##### å·¥å‚æ–¹æ³•æ¨¡å¼

-å·¥å‚æ–¹æ³•æ¨¡å¼ Factory Methodï¼Œåˆç§°å¤šæ€æ€§å·¥å‚æ¨¡å¼ã€‚ -åœ¨å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œæ ¸å¿ƒçš„å·¥å‚ç±»ä¸å†è´Ÿè´£æ‰€æœ‰çš„äº§å“çš„åˆ›å»ºï¼Œè€Œæ˜¯å°†å…·ä½“åˆ›å»ºçš„å·¥ä½œäº¤ç»™å­ç±»å»åšã€‚

```code
class Plant {
    constructor(name) {
        this.name = name;
    }
    grow() {
        console.log('growing~~~~~~');
    }
}
class Apple extends Plant {
    constructor(name) {
        super(name);
        this.taste = 'ç”œ';
    }
}
class Orange extends Plant {
    constructor(name) {
        super(name);
        this.taste = 'é…¸';
    }
}
class AppleFactory {
    create() {
        return new Apple();
    }
}
class OrangeFactory {
    create() {
        return new Orange();
    }
}
const settings = {
    apple: AppleFactory,
    orange: OrangeFactory
};
let apple = new settings['apple']().create();
console.log(apple);
let orange = new settings['orange']().create();
console.log(orange);
```

##### æŠ½è±¡å·¥å‚

```code
class Button {
    render() {}
}
class AppleButton {
    render() {
        console.log('è‹¹æœæŒ‰é’®');
    }
}
class WindowButton {
    render() {
        console.log('WindowsæŒ‰é’®');
    }
}

class Icon {
    render() {}
}
class AppleIcon {
    render() {
        console.log('è‹¹æœå›¾æ ‡');
    }
}
class WindowIcon {
    render() {
        console.log('Windowså›¾æ ‡');
    }
}
class Factory {
    createButton() {}
    createIcon() {}
}
class AppleFactory {
    createButton() {
        return new AppleButton();
    }
    createIcon() {
        return new AppleButton();
    }
}
class WindowsFactory {
    createButton() {
        return new WindowButton();
    }
    createIcon() {
        return new WindowIcon();
    }
}
const settings = {
    apple: AppleFactory,
    windows: WindowsFactory
};
let appleFactory = new settings['apple']();
appleFactory.createButton().render();
appleFactory.createIcon().render();

let windowsFactory = new settings['windows']();
windowsFactory.createButton().render();
windowsFactory.createIcon().render();
```

### å•ä¾‹æ¨¡å¼

```code
code1:
function Window(name) {
    this.name = name;
}
Window.prototype.getName = function() {
    return this.name;
};
Window.getInstance = (function() {
    let instance;
    return function(name) {
        if (!instance) {
            instance = new Window(name);
        }
        return instance;
    };
})();
let w1 = Window.getInstance();
let w2 = Window.getInstance();
console.log(w1 === w2);

code2:
let Window = (function() {
    let window;
    let Window = function(name) {
        if (window) {
            return window;
        } else {
            this.name = name;
            return (window = this);
        }
    };
    Window.prototype.getName = function() {
        console.log(this.name);
    };
    return Window;
})();

let window1 = new Window('666');
let window2 = new Window('666');
window1.getName();
console.log(window1 === window2);
```

##### å‘½åç©ºé—´

```code
let a={
    name:'a'
}
let b={
    name:'b'
}
```
